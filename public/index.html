<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Brain Display</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background: linear-gradient(to bottom, #d3d3d3, #b0b0b0);
            margin: 0;
            padding: 20px;
            text-align: center;
        }
        .container {
            background: #f4f4f4;
            padding: 30px;
            border-radius: 25px;
            display: inline-block;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }
        h1 {
            margin-bottom: 20px;
        }
        .reading {
            font-size: 20px;
            margin: 10px 0;
            font-weight: bold;
        }
        .status-line {
            margin: 15px 0;
            padding: 12px;
            font-size: 20px;
            font-weight: bold;
            border-radius: 10px;
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0% {opacity: 1;}
            50% {opacity: 0.7;}
            100% {opacity: 1;}
        }
        .alert {
            background-color: #ff7f7f;
            color: white;
            margin: 10px 0;
            padding: 10px;
            font-size: 18px;
            border-radius: 12px;
        }
        .alarm {
            background-color: red;
            color: white;
            font-weight: bold;
            font-size: 20px;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 10px;
        }
        .target-controls {
            margin-top: 20px;
        }
        .target-controls div {
            margin: 8px 0;
            font-size: 18px;
            font-weight: bold;
        }
        button {
            font-size: 20px;
            font-weight: bold;
            width: 40px;
            height: 40px;
            margin: 5px;
            border: none;
            border-radius: 8px;
            color: white;
            cursor: pointer;
        }
        .temp-plus { background-color: #ff4d4d; }
        .temp-minus { background-color: #4d79ff; }
        .humidity-plus { background-color: #4dff4d; }
        .humidity-minus { background-color: #ffff4d; color: black; }
    </style>
</head>
<body>
    <h1>The Brain</h1>

    <div class="container">
        <div id="current-readings">
            <div class="reading" id="temp">Current Temp: 60째F</div>
            <div class="reading" id="humidity">Current Humidity: 58%</div>
        </div>

        <div id="status" class="status-line" style="background-color: #cfcfcf;">Idle...</div>

        <div id="alert" class="alert" style="display:none;">
            ALERT! Temp and/or Humidity Out of Range!
        </div>
        <div id="alarm" class="alarm" style="display:none;">
            ALARM: Temp and/or Humidity!
        </div>

        <div class="target-controls">
            <div>Target Temp: <span id="targetTemp">60</span>째F
                <button class="temp-plus" onclick="adjustTemp(1)">+</button>
                <button class="temp-minus" onclick="adjustTemp(-1)">-</button>
            </div>
            <div>Target Humidity: <span id="targetHumidity">58</span>%
                <button class="humidity-plus" onclick="adjustHumidity(1)">+</button>
                <button class="humidity-minus" onclick="adjustHumidity(-1)">-</button>
            </div>
        </div>
    </div>

    <script>
        let targetTemp = 60;
        let targetHumidity = 58;
        let currentTemp = 60;
        let currentHumidity = 58;

        function adjustTemp(change) {
            targetTemp += change;
            document.getElementById('targetTemp').innerText = targetTemp;
        }

        function adjustHumidity(change) {
            targetHumidity += change;
            document.getElementById('targetHumidity').innerText = targetHumidity;
        }

        function updateStatus() {
            const status = document.getElementById('status');
            const tempDiff = currentTemp - targetTemp;

            if (Math.abs(tempDiff) <= 1) {
                status.style.backgroundColor = '#cfcfcf';
                status.innerText = "Idle";
            } else if (tempDiff > 1) {
                status.style.backgroundColor = '#4d79ff';
                status.innerText = "Cooling...";
            } else {
                status.style.backgroundColor = '#ff4d4d';
                status.innerText = "Heating...";
            }
        }

        function updateDisplay() {
            document.getElementById('temp').innerText = `Current Temp: ${currentTemp}째F`;
            document.getElementById('humidity').innerText = `Current Humidity: ${currentHumidity}%`;
            updateStatus();

            const tempDiff = Math.abs(currentTemp - targetTemp);
            const humidityDiff = Math.abs(currentHumidity - targetHumidity);

            const alertBox = document.getElementById('alert');
            const alarmBox = document.getElementById('alarm');

            // Tighter alarms: 2째F and 2%
            if (tempDiff > 2 || humidityDiff > 2) {
                alertBox.style.display = 'block';
                alarmBox.style.display = 'block';
            } else {
                alertBox.style.display = 'none';
                alarmBox.style.display = 'none';
            }
        }

        function randomizeMockData() {
            // Randomly move temp and humidity by -2, -1, 0, +1, +2
            currentTemp += Math.floor(Math.random() * 5) - 2;
            currentHumidity += Math.floor(Math.random() * 5) - 2;

            // Keep humidity realistic (10%-90%)
            currentHumidity = Math.min(90, Math.max(10, currentHumidity));

            updateDisplay();
        }

        // Update the display immediately and every 10 seconds
        updateDisplay();
        setInterval(randomizeMockData, 10000);
    </script>
</body>
</html>
